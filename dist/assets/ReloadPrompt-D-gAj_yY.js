import{r as h,_ as g,j as o}from"./index-Bci75Mbr.js";const v={pwaInDevEnvironment:!1,webManifest:{href:"/manifest.webmanifest",useCredentials:!1,linkTag:'<link rel="manifest" href="/manifest.webmanifest">'}};function S(u={}){const{immediate:l=!1,onNeedRefresh:r,onOfflineReady:t,onRegistered:n,onRegisteredSW:d,onRegisterError:a}=u;let e,i,c;const m=async(s=!0)=>{await i,c==null||c()};async function p(){if("serviceWorker"in navigator){if(e=await g(()=>import("./workbox-window.prod.es5-B9K5rw8f.js"),__vite__mapDeps([])).then(({Workbox:s})=>new s("/sw.js",{scope:"/",type:"classic"})).catch(s=>{a==null||a(s)}),!e)return;c=()=>{e==null||e.messageSkipWaiting()};{let s=!1;const R=()=>{s=!0,e==null||e.addEventListener("controlling",f=>{f.isUpdate&&window.location.reload()}),r==null||r()};e.addEventListener("installed",f=>{typeof f.isUpdate>"u"?typeof f.isExternal<"u"&&f.isExternal?R():!s&&(t==null||t()):f.isUpdate||t==null||t()}),e.addEventListener("waiting",R)}e.register({immediate:l}).then(s=>{d?d("/sw.js",s):n==null||n(s)}).catch(s=>{a==null||a(s)})}}return i=p(),m}function x(u={}){const{immediate:l=!0,onNeedRefresh:r,onOfflineReady:t,onRegistered:n,onRegisteredSW:d,onRegisterError:a}=u,[e,i]=h.useState(!1),[c,m]=h.useState(!1),[p]=h.useState(()=>S({immediate:l,onOfflineReady(){m(!0),t==null||t()},onNeedRefresh(){i(!0),r==null||r()},onRegistered:n,onRegisteredSW:d,onRegisterError:a}));return{needRefresh:[e,i],offlineReady:[c,m],updateServiceWorker:p}}console.log(v);function W(){const u="2025-11-16T06:57:37.243Z",{offlineReady:[l,r],needRefresh:[t,n],updateServiceWorker:d}=x({onRegisteredSW(e,i){console.log(`Service Worker at: ${e}`),console.log("SW Registered: "+i)},onRegisterError(e){console.log("SW registration error",e)}}),a=()=>{r(!1),n(!1)};return o.jsxs("div",{className:"ReloadPrompt-container",children:[(l||t)&&o.jsxs("div",{className:"ReloadPrompt-toast",children:[o.jsx("div",{className:"ReloadPrompt-toast-message",children:l?o.jsx("span",{children:"App ready to work offline"}):o.jsx("span",{children:"New content available, click on reload button to update."})}),t&&o.jsx("button",{className:"ReloadPrompt-toast-button",onClick:()=>d(),children:"Reload"}),o.jsx("button",{className:"ReloadPrompt-toast-button",onClick:()=>a(),children:"Close"})]}),o.jsx("div",{className:"ReloadPrompt-date",children:u})]})}export{W as default};
//# sourceMappingURL=ReloadPrompt-D-gAj_yY.js.map
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}